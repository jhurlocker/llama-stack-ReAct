# Default values for llama-stack-react umbrella chart
# This is a YAML-formatted file that configures all components

# Component enablement flags - each component can be individually enabled/disabled
components:
  llama-stack:
    enabled: true
  react-agent:
    enabled: true
  hr-enterprise-api:
    enabled: true
  custom-mcp-server:
    enabled: true

# Model Selection - Default: Llama 3.2-3B
# To use Llama 4 Scout, run:
# helm install --set llama3-2-3b.enabled=false --set llama4-scout.enabled=true --set llama-stack.llamaStack.inferenceModel=llama4-scout --set llama-stack.llamaStack.vllmUrl="http://llama4-scout-predictor:8080/v1" llama-stack-react ./helm/llama-stack-react

# Llama 3.2-3B Model Configuration (enabled by default)
llama3-2-3b:
  enabled: true

# Llama 4 Scout Model Configuration (disabled by default)
llama4-scout:
  enabled: false

# Llama Stack Configuration (model endpoints configured dynamically based on modelSelection)
llama-stack:
  # HR Tools configuration (always needed for ReACT agent)
  config:
    tools:
      - name: "hr_vacation_balance"
        description: "Check vacation balance for an employee"
        endpoint: "http://hr-api:3000/api/vacations"
      - name: "hr_vacation_request" 
        description: "Create a vacation request for an employee"
        endpoint: "http://hr-api:3000/api/vacations"
  
  # Model configuration (will be overridden by _model-config.yaml template)
  llamaStack:
    inferenceModel: "llama3-2-3b"  # Default, dynamically updated
    vllmUrl: "http://llama3-2-3b-predictor:8080/v1"  # Default, dynamically updated

# ReACT Agent Configuration
react-agent:
  config:
    llamaStackUrl: "http://llama-stack:11011"
    hrApiUrl: "http://hr-api:3000"
    logLevel: "INFO"
  
  # Resource allocation for the agent
  resources:
    limits:
      cpu: 500m
      memory: 1Gi
    requests:
      cpu: 250m
      memory: 512Mi

# HR Enterprise API Configuration
hr-enterprise-api:
  # Keep existing HR API configuration
  replicaCount: 1
  
  # Database and API settings
  config:
    nodeEnv: "production"
    port: "3000"

# Custom MCP Server Configuration
custom-mcp-server:
  replicaCount: 1
  
  image:
    repository: quay.io/rh-aiservices-bu/kickstart-custom-mcp-server
    tag: "latest"
  
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi
  
  # HR API integration
  hrApi:
    baseUrl: "http://hr-enterprise-api:80"